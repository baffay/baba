{% extends "base.html" %}

{% block title %}Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø§Ù„ÙŠØ©{% endblock %}

{% block content %}
<div class="dashboard">
    <section class="quick-stats">
        <h2>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…</h2>
        <div class="stats-grid">
            <div class="stat-card income">
                <div class="stat-icon">ğŸ’°</div>
                <h3>Ø§Ù„Ø¯Ø®Ù„</h3>
                <div class="stat-amount">{{ today_stats.get('Ø¯Ø®Ù„', 0)|format_money }}</div>
            </div>
            <div class="stat-card expense">
                <div class="stat-icon">ğŸ“Š</div>
                <h3>Ø§Ù„Ù…ØµØ±ÙˆÙ</h3>
                <div class="stat-amount">{{ today_stats.get('Ù…ØµØ±ÙˆÙ', 0)|format_money }}</div>
            </div>
            <div class="stat-card saving">
                <div class="stat-icon">ğŸ’</div>
                <h3>Ø§Ù„ØªÙˆÙÙŠØ±</h3>
                <div class="stat-amount">{{ today_stats.get('ØªÙˆÙÙŠØ±', 0)|format_money }}</div>
            </div>
            <div class="stat-card balance">
                <div class="stat-icon">âš–ï¸</div>
                <h3>Ø§Ù„Ø±ØµÙŠØ¯</h3>
                <div class="stat-amount">
                    {{ (today_stats.get('Ø¯Ø®Ù„', 0) - today_stats.get('Ù…ØµØ±ÙˆÙ', 0))|format_money }}
                </div>
            </div>
        </div>
    </section>

    <section class="monthly-summary">
        <h2>Ù…Ù„Ø®Øµ Ø§Ù„Ø´Ù‡Ø±</h2>
        <div class="stats-grid">
            <div class="stat-card income">
                <div class="stat-icon">ğŸ’°</div>
                <h3>Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ</h3>
                <div class="stat-amount">{{ month_stats.get('Ø¯Ø®Ù„', 0)|format_money }}</div>
            </div>
            <div class="stat-card expense">
                <div class="stat-icon">ğŸ“Š</div>
                <h3>Ø§Ù„Ù…ØµØ±ÙˆÙ Ø§Ù„Ø´Ù‡Ø±ÙŠ</h3>
                <div class="stat-amount">{{ month_stats.get('Ù…ØµØ±ÙˆÙ', 0)|format_money }}</div>
            </div>
            <div class="stat-card saving">
                <div class="stat-icon">ğŸ’</div>
                <h3>Ø§Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ</h3>
                <div class="stat-amount">{{ month_stats.get('ØªÙˆÙÙŠØ±', 0)|format_money }}</div>
            </div>
            <div class="stat-card balance">
                <div class="stat-icon">âš–ï¸</div>
                <h3>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø´Ù‡Ø±ÙŠ</h3>
                <div class="stat-amount">
                    {{ (month_stats.get('Ø¯Ø®Ù„', 0) - month_stats.get('Ù…ØµØ±ÙˆÙ', 0))|format_money }}
                </div>
            </div>
        </div>
    </section>

    <section class="recent-transactions">
        <h2>Ø¢Ø®Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</h2>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Ø§Ù„Ù†ÙˆØ¹</th>
                        <th>Ø§Ù„ØªØµÙ†ÙŠÙ</th>
                        <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                        <th>Ù…Ù„Ø§Ø­Ø¸Ø©</th>
                    </tr>
                </thead>
                <tbody>
                    {% for transaction in recent_transactions %}
                    <tr class="{{ transaction.type }}-row">
                        <td>
                            <span class="type-badge {{ transaction.type }}">{{ transaction.type }}</span>
                        </td>
                        <td>{{ transaction.category }}</td>
                        <td class="amount">{{ transaction.amount|format_money }}</td>
                        <td>{{ transaction.date }}</td>
                        <td>{{ transaction.note or "â€”" }}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="5" class="no-data">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù…Ù„ÙŠØ§Øª Ø­Ø¯ÙŠØ«Ø©</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="view-all">
            <a href="{{ url_for('daily.daily_home') }}" class="btn btn-primary">
                Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
                <span class="icon">â†’</span>
            </a>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.querySelectorAll('.stat-card').forEach(card => {
    card.addEventListener('mouseover', () => {
        card.style.transform = 'translateY(-5px)';
    });
    card.addEventListener('mouseout', () => {
        card.style.transform = 'translateY(0)';
    });
});
</script>
{% endblock %}